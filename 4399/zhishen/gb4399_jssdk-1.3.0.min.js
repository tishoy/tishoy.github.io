var win={},gb4399Type={isFunction:function(e){return e instanceof Function},isObject:function(e){return"[object Object]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},toString:function(e){if(gb4399Type.isFunction(e))throw new Error("Type is Error");return gb4399Type.isObject(e)||gb4399Type.isArray(e)?JSON.stringify(e):""+e}},gb4399=function(n){if(n){var t={init:function(){var e={Method:"init",gameId:gb4399Type.toString(this._client.gameId),dev:gb4399Type.toString(this._client.dev)};this.asyncExec(e,this._client.success,this._client.fail)},login:function(e,t,n){this.asyncExec({Method:"login"},t,n)},openUserCenter:function(e,t,n){e.Method="userCenter",this.asyncExec(e,t,n)},exit:function(){this.asyncExec({Method:"exit"})},recharge:function(e,t,n){e.Method="recharge",this.asyncExec(e,t,n)},share:function(e,t,n){e.Method="share",this.asyncExec(e,t,n)},invite:function(e,t,n){e.Method="invite",this.asyncExec(e,t,n)},setStorage:function(e,t,n){e.Method="setStorage",this.asyncExec(e,t,n)},getStorage:function(e,t,n){e.Method="getStorage",this.asyncExec(e,t,n)},removeStorage:function(e,t,n){e.Method="removeStorage",this.asyncExec(e,t,n)},clearStorage:function(e,t,n){e.Method="clearStorage",this.asyncExec(e,t,n)},getShareInfo:function(){return this.exec({Method:"getShareInfo"})},stat:function(e){this.asyncExec(e)},onUserChanged:function(e){this.register({Method:"onUserChanged"},e)},asyncExec:function(e,r,i){if(r||i){var c="CB_"+Date.now()+"_"+Math.ceil(10*Math.random());win[c]=function(e){if(void 0!==e&&null!=e){var t=gb4399Type.isObject(e)?e:JSON.parse(e);if(void 0!==t.error_code){var n=t.error_code;delete t.error_code,t.code=n,i&&i(t)}else r&&r(t)}delete win[c]}}return e.gameId=this._client.gameId,n.asyncExceFunc(JSON.stringify(e),c),!0},exec:function(e){var t=n.exceFunc(JSON.stringify(e));return gb4399Type.isObject(t)?t:JSON.parse(t)},register:function(e,n){win[e.Method]=function(e){if(void 0!==e&&null!=e){var t=verify.obj(e)?e:JSON.parse(e);n(t)}}}},r=function(e){this._client=e,this.init()};for(var i in t)r.prototype[i]=function(){var e=i;return function(){try{return t[e].apply(this,arguments)}catch(e){console.log(e)}}}();var c={_bridge:void 0,bridgeObject:function(){if(!c._bridge)throw new Error("Please initialize gb4399jssdk");return c._bridge},init:function(e){c._bridge=new r(e)},exit:function(){c.bridgeObject().exit.apply(c.bridgeObject(),[])},login:function(e){var t=c._makeArgument(e);c.bridgeObject().login.apply(c.bridgeObject(),t)},openUserCenter:function(e){var t=c._makeArgument(e);c.bridgeObject().openUserCenter.apply(c.bridgeObject(),t)},recharge:function(e){var t=c._makeArgument(e);c.bridgeObject().recharge.apply(c.bridgeObject(),t)},showShareMenu:function(e){var t=c._makeArgument(e);c.bridgeObject().share.apply(c.bridgeObject(),t)},showInviteMenu:function(e){var t=c._makeArgument(e);c.bridgeObject().invite.apply(c.bridgeObject(),t)},getShareInfo:function(){return c.bridgeObject().getShareInfo.apply(c.bridgeObject(),[])},setStorage:function(e){var t=c._makeArgument(e);return c.bridgeObject().setStorage.apply(c.bridgeObject(),t)},getStorage:function(e){var t=c._makeArgument(e);return c.bridgeObject().getStorage.apply(c.bridgeObject(),t)},removeStorage:function(e){var t=c._makeArgument(e);return c.bridgeObject().removeStorage.apply(c.bridgeObject(),t)},clearStorage:function(e){var t=c._makeArgument(e);return c.bridgeObject().clearStorage.apply(c.bridgeObject(),t)},stat:function(e){var t=c._makeArgument(e);c.bridgeObject().stat.apply(c.bridgeObject(),t)},onUserChanged:function(e){c.bridgeObject().onUserChanged.apply(c.bridgeObject(),[e])},_makeArgument:function(e){var t=null,n=null;e.success&&(t=e.success,e.success=void 0),e.fail&&(n=e.fail,e.fail=void 0);var r=JSON.parse(JSON.stringify(e)),i={};for(var c in r)i[c]=gb4399Type.toString(r[c]);return[i,t,n]}};return c}console.warn("Please open it in the 4399GameBox")}(window.gb4399bridge);